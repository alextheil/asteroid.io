{"ast":null,"code":"let canvas;\nlet context;\nlet canvasWidth = window.innerWidth;\nlet canvasHeight = window.innerHeight;\nlet ship;\nlet keys = [];\ndocument.addEventListener('DOMContentLoaded', SetupCanvas);\n\nfunction SetupCanvas() {\n  canvas = document.getElementById(\"asteroid-canvas\");\n  context = canvas.getContext(\"2d\");\n  canvas.width = canvasWidth;\n  canvas.height = canvasHeight;\n  context.fillStyle = \"black\";\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  ship = new Ship();\n  document.body.addEventListener(\"keydown\", KeyDown);\n  document.body.addEventListener(\"keyup\", KeyUp);\n  Render();\n}\n\nfunction KeyDown(e) {\n  keys[e.keyCode] = true;\n}\n\nfunction KeyUp(e) {\n  keys[e.keyCode] = false;\n}\n\nclass Ship {\n  constructor() {\n    this.visible = true;\n    this.x = canvasWidth / 2;\n    this.y = canvasHeight / 2;\n    this.movingForward = false;\n    this.speed = 0.1;\n    this.velX = 0;\n    this.velY = 0;\n    this.rotateSpeed = 0.001;\n    this.radius = 15;\n    this.angle = 0;\n    this.strokeColor = 'white';\n  }\n\n  Rotate(dir) {\n    this.angle += this.rotateSpeed * dir;\n  }\n\n  Update() {\n    let radians = this.angle / Math.PI * 180;\n\n    if (this.movingForward) {\n      this.velX += Math.cos(radians) * this.speed;\n      this.velY += Math.sin(radians) * this.speed;\n    } //if (this.x < this.radius) { } //When the ship goes to the left of the canvas\n    //if (this.x > canvas.width) { } //When the ship goes to the right of the canvas\n    //if (this.y < this.radius) { } //When the ship goes to the bottom of the canvas\n    //if (this.y > canvas.height) { } //When the ship goes to the top of the canvas\n\n\n    this.velX *= 0.99;\n    this.velY *= 0.99;\n    this.x -= this.velX;\n    this.y -= this.velY;\n  }\n\n  Draw() {\n    context.strokeStyle = this.strokeColor;\n    context.beginPath();\n    let vertAngle = Math.PI * 2 / 3;\n    let radians = this.angle / Math.PI * 180;\n\n    for (let i = 0; i < 3; i++) {\n      context.lineTo(this.x - this.radius * Math.cos(vertAngle * i + radians), this.y - this.radius * Math.sin(vertAngle * i + radians)); //context.drawImage(\"../assets/ship.png\", 10, 10); // Draw ship asset over stroked ship\n    }\n\n    context.closePath();\n    context.stroke();\n  }\n\n}\n\nfunction Render() {\n  ship.movingForward = keys[87];\n\n  if (keys[68]) {\n    ship.Rotate(1);\n  } //rotate to right if 'D' is pressed\n\n\n  if (keys[65]) {\n    ship.Rotate(-1);\n  } //rotate to right if 'A' is pressed\n\n\n  context.clearRect(0, 0, canvasWidth, canvasHeight);\n\n  if (ship.visible) {\n    ship.Update();\n    ship.Draw();\n  }\n\n  requestAnimationFrame(Render);\n}","map":{"version":3,"sources":["C:/Courses/PROG20261/asteroid.io/src/App.js"],"names":["canvas","context","canvasWidth","window","innerWidth","canvasHeight","innerHeight","ship","keys","document","addEventListener","SetupCanvas","getElementById","getContext","width","height","fillStyle","fillRect","Ship","body","KeyDown","KeyUp","Render","e","keyCode","constructor","visible","x","y","movingForward","speed","velX","velY","rotateSpeed","radius","angle","strokeColor","Rotate","dir","Update","radians","Math","PI","cos","sin","Draw","strokeStyle","beginPath","vertAngle","i","lineTo","closePath","stroke","clearRect","requestAnimationFrame"],"mappings":"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","sourcesContent":["let canvas;\r\nlet context;\r\nlet canvasWidth = window.innerWidth;\r\nlet canvasHeight = window.innerHeight;\r\nlet ship;\r\nlet keys = [];\r\n\r\ndocument.addEventListener('DOMContentLoaded', SetupCanvas);\r\n\r\nfunction SetupCanvas(){\r\n    canvas = document.getElementById(\"asteroid-canvas\");\r\n    context = canvas.getContext(\"2d\");\r\n    canvas.width = canvasWidth;\r\n    canvas.height = canvasHeight;\r\n    context.fillStyle = \"black\";\r\n    context.fillRect(0, 0, canvas.width, canvas.height);\r\n    ship = new Ship();\r\n\r\n    document.body.addEventListener(\"keydown\", KeyDown);\r\n    document.body.addEventListener(\"keyup\", KeyUp);\r\n\r\n    Render();\r\n}\r\n\r\nfunction KeyDown(e){ keys[e.keyCode] = true; }\r\nfunction KeyUp(e){ keys[e.keyCode] = false; }\r\n\r\nclass Ship {\r\n    constructor() {\r\n        this.visible = true;\r\n        this.x = canvasWidth / 2;\r\n        this.y = canvasHeight / 2;\r\n        this.movingForward = false;\r\n        this.speed = 0.1;\r\n        this.velX = 0;\r\n        this.velY = 0;\r\n        this.rotateSpeed = 0.001;\r\n        this.radius = 15;\r\n        this.angle = 0;\r\n        this.strokeColor = 'white';\r\n    }\r\n\r\n\r\n    Rotate(dir) {\r\n        this.angle += this.rotateSpeed * dir;\r\n    }\r\n\r\n\r\n    Update() {\r\n        let radians = this.angle / Math.PI * 180;\r\n\r\n        if (this.movingForward) {\r\n            this.velX += Math.cos(radians) * this.speed;\r\n            this.velY += Math.sin(radians) * this.speed;\r\n        }\r\n        //if (this.x < this.radius) { } //When the ship goes to the left of the canvas\r\n        //if (this.x > canvas.width) { } //When the ship goes to the right of the canvas\r\n        //if (this.y < this.radius) { } //When the ship goes to the bottom of the canvas\r\n        //if (this.y > canvas.height) { } //When the ship goes to the top of the canvas\r\n\r\n        this.velX *= 0.99;\r\n        this.velY *= 0.99;\r\n\r\n        this.x -= this.velX;\r\n        this.y -= this.velY;\r\n    }\r\n\r\n    Draw() {\r\n        context.strokeStyle = this.strokeColor;\r\n        context.beginPath();\r\n        let vertAngle = ((Math.PI * 2) / 3);\r\n\r\n        let radians = this.angle / Math.PI * 180;\r\n\r\n        for (let i = 0; i < 3; i++) {\r\n            context.lineTo(this.x - this.radius * Math.cos(vertAngle * i + radians), this.y - this.radius * Math.sin(vertAngle * i + radians));\r\n            //context.drawImage(\"../assets/ship.png\", 10, 10); // Draw ship asset over stroked ship\r\n        }\r\n        context.closePath();\r\n        context.stroke();\r\n    }\r\n}\r\n\r\nfunction Render() {\r\n    ship.movingForward = (keys[87]);\r\n\r\n    if (keys[68]) { ship.Rotate(1); } //rotate to right if 'D' is pressed\r\n    if (keys[65]) { ship.Rotate(-1); } //rotate to right if 'A' is pressed\r\n\r\n    context.clearRect(0, 0, canvasWidth, canvasHeight);\r\n\r\n    if(ship.visible){\r\n        ship.Update();\r\n        ship.Draw();\r\n    }\r\n\r\n    requestAnimationFrame(Render);\r\n}"]},"metadata":{},"sourceType":"module"}